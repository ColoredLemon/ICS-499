package com.musicBackend.musicBackend.controllers;

import com.musicBackend.musicBackend.controllers.configurations.Admin;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import java.util.Arrays;
import java.util.List;


@RestController
@RequestMapping("api/v1/Admins")
public class AdminController {

    private static final List<Admin> ADMINS = Arrays.asList(
            new Admin(1 ,"Kolhby","Xiong", "Placeholder1@gmail.com"),
            new Admin(2, "Yuepeng", "Yang", "Placeholder2@gmail.com"),
            new Admin(3, "Goerge", "Lauture", "Placeholder3@gmail.com"),
            new Admin(4, "Eddie", "Lyaruu", "Placeholder4@gmail.com")
            );


    @GetMapping(path = "{AdminId}")
    public Admin getAdmin (@PathVariable("AdminId") Integer AdminId) {
        return ADMINS.stream()
                .filter(Admin -> AdminId.equals(Admin.getAdminId()))
                .findFirst()
                .orElseThrow(() -> new IllegalStateException("Admin " + AdminId + "does not exist"));

    }
}
